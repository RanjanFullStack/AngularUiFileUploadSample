
<div class="row">
    
    <div class="col-lg-12">
        <div class="add-user-component">
            

            <div class="card card-main">
                <div class="card-header card-header-main">
                    <div class="row">
                        <div class="col-auto mr-auto">  Pipeline List</div>

                        <div class="col-auto" [hideIfUnauthorized]='{featureId:feature.Pipeline,action:"add"}'><a [routerLink]="['/pipeline']" class="btn btn-primary" title="Add Pipeline"><fa name="plus-square"></fa> <span class="hide-on-mobile">Pipeline</span></a></div>
                    </div>

                </div>
                <div class="card-body"> 

                    <!--<p-blockUI [target]="tblPipeline" [blocked]="blockedTable">
                        <i class="fa fa-spinner fa-pulse fa-3x fa-fw" style="position:absolute;top:35%;left:50%"></i>
                    </p-blockUI>-->


                    <div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none">
                        <div class="row">
                            <div class="col-8 col-lg-5 mr-auto search"> <span class="fa fa-search"></span><input #gb type="text" pInputText placeholder="Search" class="form-control search-box" [(ngModel)]="globalFilter"></div>

                            <div class="col-auto col-sm-auto col-lg-auto" [hideIfUnauthorized]='{featureId:feature.Pipeline,action:"export"}'> <a class="btn btn-export" title="Export Pipeline (Excel file)" (click)="exportPipelineList()"> <i class="fa fa-file-excel-o"></i></a></div>
                        </div>

                    </div>
                    <p-dataTable [reorderableColumns]="true" #tblPipeline emptyMessage="{{blockedTable? 'Please Wait...':'No record found'}}" [totalRecords]="totalRecords" [value]="pipelineList" [lazy]="true" (onLazyLoad)="loadPipelinesLazy($event)" [rows]="10" [paginator]="true" [responsive]="true" [rowsPerPageOptions]="pagerLength" [globalFilter]="gb" sortMode="multiple">
 
                        <p-column field="fundDetail.FundName" header="Fund Name" [sortable]="true">

							<ng-template pTemplate="body" let-pipeline="rowData">
								<a class="click-view company-name" href="javascript:void(0);" [routerLink]="['/pipeline-details', pipeline.encryptedPipelineId]" title="View Details" [hideIfUnauthorized]='{featureId:feature.Pipeline,action:"view"}'>{{pipeline.fundDetails.fundName}}</a>
								
							</ng-template>

                        </p-column>
                      
                        <p-column field="m_Strategy.Strategy" header="Strategy" [sortable]="true">

                            <ng-template pTemplate="body" let-pipeline="rowData">
                                {{pipeline.strategyDetails.strategy}}
                            </ng-template>

                        </p-column>
                        <p-column field="m_PipelineStatus.Status" header="Status" [sortable]="true">

                            <ng-template pTemplate="body" let-pipeline="rowData">
                                {{pipeline.pipelineStatus.status}}
                            </ng-template>

                        </p-column>
                        

                        <p-column styleClass="col-button" header="Action">

                            <ng-template pTemplate="body" let-pipeline="rowData">
                                <div class="add-control-btn text-center">
                                    <a class="btn btn-edit" title="Edit" [routerLink]="['/pipeline', pipeline.encryptedPipelineId]" [hideIfUnauthorized]='{featureId:feature.Pipeline,action:"edit"}'><fa name="edit"></fa></a>

                                </div>
                            </ng-template>
                        </p-column>
                    </p-dataTable>
                </div>

            </div>


        </div>
    </div>
</div>
